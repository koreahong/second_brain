---
title: kafka 개념
created: 2025-11-28
tags: ["reference", "migrated", "resource", "kafka"]
PARA: Resource
구분: ["Kafka"]
---

# kafka 개념

## 📝 내용

## 개념

- 성능과 기능이 좋은 큐라 할 수 있다.

## 목적

- 데이터 파이프라인을 더 안정적으로 운용할 수 있는 방안 모색

## 서칭내용

- kafka는 실시간 스트리밍에 최적화 되어 있음

- 자체 서버를 가지고 운영하는 것

- 탄생배경: 대량의 데이터를 안정적이고 실시간으로 처리할 수 있도록 설계되었습다. 카프카는 주로 대량의 이벤트 스트림 데이터를 처리하고 여러 시스템 간에 데이터를 신속하게 전송하는 데 사용됩니다.

- 카프카를 선택하면 좋을 때:

- AWS SQS를 선택하면 좋을 때:

### 데이터 처리 과정: 상세 타임라인

1. Producer 데이터 생성:

1. Partition 선택 및 데이터 전송:

1. Broker 데이터 저장:

1. Consumer 데이터 읽기:

1. Consumer 데이터 처리:

### 카프카 구성 요소

Topic

- 각각의 메시지를 목적에 맞게 구분할 때 사용한다.

- 메시지를 전송하거나 소비할 때 Topic을 반드시 입력한다.

- Consumer는 자신이 담당하는 Topic의 메시지를 처리한다.

- 한 개의 토픽은 한 개 이상의 파티션으로 구성된다.

Partition

- 분산 처리를 위해 사용된다.

- Topic 생성 시 partition 개수를 지정할 수 있다. (파티션 개수 변경 가능. *추가만 가능)

- 파티션이 1개라면 모든 메시지에 대해 순서가 보장된다.

- 파티션 내부에서 각 메시지는 offset(고유 번호)로 구분된다.

- 파티션이 여러개라면 Kafka 클러스터가 라운드 로빈 방식으로 분배해서 분산처리되기 때문에 순서 보장 X

- 파티션이 많을 수록 처리량이 좋지만 장애 복구 시간이 늘어난다.

Offset

- 컨슈머에서 메세지를 어디까지 읽었는지 저장하는 값

- 컨슈머 그룹의 컨슈머들은 각각의 파티션에 자신이 가져간 메시지의 위치 정보(offset) 을 기록

- 컨슈머 장애 발생 후 다시 살아나도, 전에 마지막으로 읽었던 위치에서부터 다시 읽어들일 수 있다.

Producer

- 메시지를 만들어서 카프카 클러스터에 전송한다.

- 메시지 전송 시 Batch 처리가 가능하다.

- key값을 지정하여 특정 파티션으로만 전송이 가능하다.

- 전송 acks값을 설정하여 효율성을 높일 수 있다.

- ACKS=0 -> 매우 빠르게 전송. 파티션 리더가 받았는 지 알 수 없다.

- ACKS=1 -> 파티션 리더가 받았는지 확인. 기본값

- ACKS=ALL -> 파티션 리더 뿐만 아니라 팔로워까지 메시지를 받았는 지 확인

Consumer

- 카프카 클러스터에서 메시지를 읽어서 처리한다.

- 메세지를 Batch 처리할 수 있다.

- 한 개의 컨슈머는 여러 개의 토픽을 처리할 수 있다.

- 메시지를 소비하여도 메시지를 삭제하지는 않는다. (Kafka delete policy에 의해 삭제)한 번 저장된 메시지를 여러번 소비도 가능하다.

- 컨슈머는 컨슈머 그룹에 속한다.

- 한 개 파티션은 같은 컨슈머그룹의 여러 개의 컨슈머에서 연결할 수 없다.

Broker

- 실행된 카프카 서버를 말한다.

- 프로듀서와 컨슈머는 별도의 애플리케이션으로 구성되는 반면, 브로커는 카프카 자체이다.

- Broker(각 서버)는 Kafka Cluster 내부에 존재한다.

- 서버 내부에 메시지를 저장하고 관리하는 역할을 수행한다.

Zookeeper

- 분산 애플리케이션 관리를 위한 코디네이션 시스템

- 분산 메시지큐의 메타 정보를 중앙에서 관리하는 역할

## 🏷️ 분류

- **PARA**: Resource
- **구분**: Kafka

## 🔗 연결

**활용 프로젝트**:
- (아직 없음)

**관련 레퍼런스**:
- (아직 없음)

---

*Notion에서 재마이그레이션됨 (2025-11-28)*
