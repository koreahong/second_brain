---
title: 2025년 11월 24일
type: weekly-reflection
tags:
  - datahub
  - airflow
  - dbt
  - governance
  - metadata
  - keycloak
  - qraft
  - weekly
company: 크래프트테크놀로지스
created: '2025-11-30'
updated: '2025-11-30'
status: seedling
---
# 2025년 11월 24일

## 📋 주간 요약

이번 주는 **DataHub 론칭**을 완료한 주입니다. Airflow, DBT, Snowflake 메타데이터를 통합하고, Keycloak SSO로 통합 인증을 구현했습니다.

## 🎯 주요 업무

### DataHub 론칭

**완료 사항**:
- Airflow 3.x와 DataHub 연동 (Custom Source 개발)
- DBT 메타데이터 자동 수집
- Snowflake 스키마 정보 수집
- Keycloak SSO 통합 인증

**기술적 성과**:
- Local, Dev, Prod 환경 분리
- 권한 관리 (Keycloak 그룹 기반)
- 메타데이터 실시간 동기화

### 거버넌스 체계 수립

**DataHub 컨텐츠 설계**:
- DBT와 Airflow의 태그 관리 방식 정의
- 도메인 구조 설계 및 적용
- 데이터 소유권 체계 정립

**고려사항**:
1. **명확한 용어 정리**: 도메인, 태그, 소유자 등의 기준 수립
2. **Public 데이터**: 팀 태그가 없는 asset은 Public으로 공개
3. **Data Product 구분**: 
   - 구매한 원천 데이터 (벤더사 제공)
   - 프로세싱된 데이터 (내부 가공)
4. **Owner 설정**: 구매 데이터는 Owner를 Public으로 설정
5. **메타데이터 상속**: Airflow task/asset은 DAG 정보를 상속

## 💡 인사이트

### 데이터 거버넌스의 중요성

데이터 자산이 증가하면서 **일관된 관리 체계**의 필요성을 절감했습니다:
- 누가 어떤 데이터를 소유하는가?
- 데이터 품질은 어떻게 보장하는가?
- 데이터 변경이 어디에 영향을 미치는가?

이러한 질문들에 답하기 위해 DataHub를 도입하고, 체계적인 거버넌스 프레임워크를 수립했습니다.

### 기술적 도전과 해결

**Airflow 3.x 호환성**:
- 공식 플러그인이 Airflow 2.x만 지원
- Custom REST API Source 개발로 해결
- 79개 task dependency 수집 성공

**URN 인코딩 불일치**:
- Keycloak, DBT, Airflow가 서로 다른 인코딩 사용
- Runtime patch로 `quote_plus` 통일
- 중복 그룹 3개 → 1개로 통합

## 🤖 자동화

### Claude Code 활용

**Agent Hook 구현**:
- Git commit 시 자동 정리
- Slack으로 변경 사항 트래킹

**자동화 효과**:
- 수동 작업 감소
- 일관된 코드 품질 유지

## 🔗 관련 프로젝트

### 메인 프로젝트
- [[qraft-data-platform-통합프로젝트]] - Qraft Data Platform 전체 프로젝트

### 세부 프로젝트
- [[DataHub-커스텀-구현-상세]] - Custom Airflow Source 및 DBT Patch 상세
- [[크래프트-데이터-거버넌스-프레임워크]] - 거버넌스 체계
- [[데이터-품질-관리-프로세스]] - 품질 관리 프로세스
- [[iceberg-+-datahub]] - Iceberg + DataHub 통합 (계획)
- [[dag권한-관리]] - DAG 권한 관리

## 📚 관련 지식

### 기술 스택
- [[DataHub]] - 메타데이터 관리 플랫폼
- [[DataHub-MCP-Server]] - AI Agent 통합 및 자동화 (향후 계획)
- [[DBT]] - 데이터 변환 및 품질 검증
- [[Airflow]] - 워크플로우 오케스트레이션

### 거버넌스 & 품질
- [[데이터-거버넌스-개념]] - 데이터 거버넌스 개념 (일반)
- [[데이터-품질-관리-개념]] - 데이터 품질 개념 (일반)

## 🎯 주요 성과

이번 주 DataHub 론칭으로 다음을 달성:

1. **메타데이터 통합**: 
   - Airflow, DBT, Snowflake 메타데이터 자동 수집
   - 38개 asset + 79개 task dependency

2. **리니지 추적**: 
   - 데이터 흐름 시각화 및 영향도 분석 가능
   - DAG → Task → Dataset 전체 흐름

3. **거버넌스 기반**: 
   - 도메인/태그 체계 수립
   - 2개 도메인 (Financial Markets, Data Infrastructure)
   - 팀별 소유권 명확화

4. **통합 인증**: 
   - Keycloak SSO로 단일 로그인
   - 그룹 기반 권한 관리

## 📊 메트릭

| 항목 | 수치 |
|------|------|
| 수집 Assets | 38개 |
| Task Dependencies | 79개 |
| 도메인 수 | 2개 |
| 통합 시스템 | 3개 (Airflow, DBT, Snowflake) |

---

**작성일**: 2025-11-30
**회사**: 크래프트테크놀로지스
**주차**: 2025년 11월 24일 주간
